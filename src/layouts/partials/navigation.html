{{ $currentPage := . }}

<nav class='docs__table-of-contents table-of-contents'>
    {{ range .Site.Menus.main }}
        {{ if .HasChildren }}
            <h1 class='table-of-contents__section'>{{ .Name }}</h1>
            <ul class='table-of-contents__pages'>
                {{ range .Children }}
                    <li class='table-of-contents__page'>
                        <a href='{{ .URL }}' class='table-of-contents__link {{ if $currentPage.IsMenuCurrent "main" . }}table-of-contents__link--selected{{ end }}'>
                            {{ .Name }}
                        </a>
                    </li>
                {{ end }}
            </ul>
        {{ end }}
    {{ end }}
</nav>
