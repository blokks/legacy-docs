.table-of-contents {
    position: sticky 0 * * *;
    width: 100%;
    max-width: 300px;

    @media (--smallest), (--small) {
        margin-top: 90px;
    }

    @media (--default) {
        padding: 225px 0;
    }

    &__toggler {
        display: none;
    }

    &__toggler-label {
        @mixin navigation-toggle-button;
        position: relative;
        cursor: pointer;

        @media (--default) {
            display: none;
        }
    }

    &__toggler-label:before {
        position: relative 2px * * *;
        display: inline-block;
        size: 14px;
        margin-right: 10px;

        background-image: inline('images/icon-open.png');
        background-repeat: no-repeat;
        background-size: 14px;
        content: '';
        transition: transform 400ms cubic-bezier(0.18,0.89,0.31,1.59);
    }

    &__content {
        margin: 0;
        overflow: hidden;
        transition:
            margin 400ms cubic-bezier(0.22, 0.61, 0.36, 1),
            max-height 400ms cubic-bezier(0.22, 0.61, 0.36, 1),
            opacity 300ms linear;

        @media (--smallest), (--small) {
            opacity: 0;
            max-height: 0;
        }
    }

    &__toggler:checked ~ &__toggler-label:before {
        transform: rotate(45deg);
    }

    &__toggler:checked ~ &__content {
        opacity: 1;

        @media (--smallest), (--small) {
            margin: 20px 0 0 0;
            max-height: 1700px;
        }
    }

    &__section {
        margin: 0 0 22px 0;
    }

    &__section:not(:first-of-type) {
        margin-top: 40px;
    }

    &__section-title {
        @mixin navigation-section;
    }

    &__pages {
        margin: 13px 0 0 0;
        padding: 0 0 0 21px;
        list-style: none;
    }

    &__section:not(&__section--active) &__pages {
        display:  none;
    }

    &__page {
        @mixin navigation-page;
        margin: 12px 0 0 0;
    }

    &__link {
        display: inline-block;
        position: relative;
        color: inherit;
        text-decoration: none;
        border-bottom: 1px solid transparent;
    }

    &__link--selected {
        color: var(--blue);
        border-bottom: 1px solid;
    }

    &__link:hover {
        color: var(--blue);
    }
}
